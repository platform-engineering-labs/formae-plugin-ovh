/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

amends "@formae/forma.pkl"

import "@ovh/network/network.pkl"

import "./vars.pkl" as v

forma {
  v.stack
  v.target

  new network.Network {
    label = "plugin-sdk-test-network"
    name = "formae-plugin-sdk-test-\(v.testRunID)"
    subnet = new network.SubnetConfig {
      cidr = "10.0.0.0/24"
      ipVersion = 4
      enableDhcp = true
      enableGatewayIp = true
      name = "formae-plugin-sdk-test-subnet-\(v.testRunID)"
      dnsNameServers {
        "8.8.8.8"
        "8.8.4.4"
      }
    }
  }
}
